package com.kas.containers;

import com.kas.infra.base.KasObject;
import com.kas.logging.ILogger;

public class CappedContainerProxy extends KasObject implements ICappedContainerListener
{
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  private String  mName;
  private ILogger mLogger;
  
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  public CappedContainerProxy(String name, ILogger logger)
  {
    mName = name;
    mLogger = logger;
  }
  
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  public String getName()
  {
    return mName;
  }
  
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  public void onSuspend()
  {
    mLogger.warn("Capped Container \"" + mName + "\" is now suspended");
    throw new RuntimeException("Capped Container \"" + mName + "\" is now suspended");
  }
  
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  public void onResume()
  {
    mLogger.info("Capped Container \"" + mName + "\" is now resumed");
  }
  
  //------------------------------------------------------------------------------------------------------------------
  //
  //------------------------------------------------------------------------------------------------------------------
  public String toPrintableString(int level)
  {
    StringBuffer sb = new StringBuffer();
    sb.append(name()).append("(Name=").append(mName).append(")");
    return sb.toString();
  }
}
